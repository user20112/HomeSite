<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Default Page</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/pe-icons.css" rel="stylesheet">
    <link href="css/prettyPhoto.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->       
    <script src="js/jquery.js"></script>
    <link rel="shortcut icon" href="images/ico/favicon.ico">

    <script type="text/javascript">
    jQuery(document).ready(function($){
    'use strict';
        jQuery('body').backstretch([
            "images/Background.jpg",
            "images/Background.jpg",
            "images/Background.jpg"
        ], {duration: 5000, fade: 500});

        $("#mapwrapper").gMap({ controls: false,
            scrollwheel: false,
            markers: [{     
                latitude:40.7566,
                longitude: -73.9863,
            icon: { image: "images/marker.png",
                iconsize: [44,44],
                iconanchor: [12,46],
                infowindowanchor: [12, 0] } }],
            icon: { 
                image: "images/marker.png", 
                iconsize: [26, 46],
                iconanchor: [12, 46],
                infowindowanchor: [12, 0] },
            latitude:40.7566,
            longitude: -73.9863,
            zoom: 14 });
    });
    </script>
</head><!--/head-->
<body>
<div id="preloader"></div>
    <header class="navbar navbar-inverse navbar-fixed-top " role="banner">
		<div id="nav-placeholder" class="collapse navbar-collapse">
			<script>
			$(function(){
			$("#nav-placeholder").load("nav.html");
			});
			</script>
			</div>
    </header><!--/header-->

    <section id="single-page-slider" class="no-margin">
        <div class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="item active">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="center gap fade-down section-heading">
                                    <h2 class="main-title">Schedule</h2>
                                    <hr>
                                    <p>Displays a Schedule of where I usually am.</p>
                                </div>
                            </div>   
                        </div>
                    </div>
                </div><!--/.item-->
            </div><!--/.carousel-inner-->
        </div><!--/.carousel-->
    </section><!--/#main-slider-->

        <div id="content-wrapper">
        <section id="about-us" class="white">
            <div class="container">
                <div class="row">
				<div class="center">
				<div class="row-center">
						<form>
							<input id="Hour" type="text" name="Hour" placeholder="Hour">
							<input id="Day" type="text" name="Day" placeholder="Day">
							<input id="Task" type="text" name="Task" placeholder="Task">
							<input type="button" value="Submit" onclick="SubmissionFunction()" >
						</form>	
					</div>
                 <section id="section_center"></section>
				</div>
                </div>
            </div>      
        </section>
    </div>
    <div id="footer-wrapper">
        <section id="bottom" class="">
            <div class="container">
                <div class="row">
                    <div >
                        <h4>Not finding what you want?</h4>
                        <p>Go to the Contact Info Page and send me a text or email with the suggestion you want i get very few and would implement it rather rapidly.</p>
                    </div><!--/.col-md-3-->

                </div>
            </div>
        </section><!--/#bottom-->

        <footer id="footer" class="">
            <div class="container">
                <div class="row">
                    <div class="col-sm-6">
                       Go to top of the page
                    </div>
                    <div class="col-sm-6">
                        <ul class="pull-right">
                            <li><a id="gototop" class="gototop" href="#"><i class="fa fa-chevron-up"></i></a></li><!--#gototop-->
                        </ul>
                    </div>
                </div>
            </div>
        </footer><!--/#footer-->
    </div>


    <script src="js/plugins.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>   
    <script src="js/init.js"></script>
	<script>
			window.onload = function() { OnLoad() };
		var request;
		var request2;		
		var Fname="";
		var Lname="";
		var City="";
		var State="";
		var Address="";
		var Zip="";
		var CurrentForm=100;
		var NonPlus=0;
		var x="7";
		function SubmissionFunction(){
		if (document.getElementById("Day").value=="Monday")
		{
		x="0";
		}
		if (document.getElementById("Day").value=="Tuesday")
		{
		x="1";
		}
		if (document.getElementById("Day").value=="Wednesday")
		{
		x="2";
		}
		if (document.getElementById("Day").value=="Thursday")
		{
		x="3";
		}
		if (document.getElementById("Day").value=="Friday")
		{
		x="4";
		}
		if (document.getElementById("Day").value=="Saturday")
		{
		x="5";
		}
		if (document.getElementById("Day").value=="Sunday")
		{
		x="6";
		}
			// form data objects found at: 
			// https://developer.mozilla.org/en-US/docs/Web/API/FormData/Using_FormData_Objects 
			request2 = new XMLHttpRequest(); // message sent to server 
			var fd = new FormData();  
			fd.append("request", "EditSchedule"); 
			fd.append("Hour",document.getElementById("Hour").value); 
			fd.append("Day",x); 
			fd.append("Task",document.getElementById("Task").value); 
			request2.onreadystatechange = OnLoad; // setup callback (Asynchronous)
			request2.open("POST", "php/request.php"); // prepare POST message
			request2.send(fd); 
			

		}// end OnLoad
		function OnLoad(){

			// form data objects found at: 
			// https://developer.mozilla.org/en-US/docs/Web/API/FormData/Using_FormData_Objects
			request = new XMLHttpRequest(); // message sent to server 
			var fd = new FormData();  
			fd.append("request", "GetSchedule"); 
			request.onreadystatechange = ServerResponded; // setup callback (Asynchronous)
			request.open("POST", "php/request.php"); // prepare POST message
			request.send(fd); 
			
			document.getElementById("section_center").innerHTML ="Requested"; // display table

		}// end OnLoad

		function SelectionChange(Day,Hour)
		{
			document.getElementById("section_center").innerHTML =""+Day+Hour; // display table
		
		}
		function ServerResponded(){ // called when the server responds to message 
			if(request.readyState !== XMLHttpRequest.DONE) { return; } 
			if(request.status !== 200){ return; } // check for HTTP OK 

			var json_arr; 
			var json; 

			try{ 
				json_arr = JSON.parse(request.responseText); 
			}catch(ex){
				alert(ex.message);  
			}

			var i; 
			var y;
			var Section_data = '<div class="container">';
			Section_data += "<div class='gap'></div><div class='scrollable'><table class='table table-striped table-dark'> " ; 
			for(i = 0; i*7 < json_arr.length; i++)
			{
			if ( i==0 )
				{
				Section_data += " <thead><tr>";
				Section_data += "<th scope='col'>Hour</th>";
				Section_data += "<th scope='col'>Monday</th>";
				Section_data += "<th scope='col'>Tuesday</th>";
				Section_data += "<th scope='col'>Wednesday</th>";
				Section_data += "<th scope='col'>Thursday</th>";
				Section_data += "<th scope='col'>Friday</th>";
				Section_data += "<th scope='col'>Saturday</th>";
				Section_data += "<th scope='col'>Sunday</th>";
				Section_data += "<tr>";
				Section_data += "</thead><tbody>";
				}
				Section_data += '<tr>';
				var y=json_arr[i*7];
				Section_data += "<th scope='row'>"+y.Hour+"</th>";
			for(y=0;y+i*7<json_arr.length&&y<7;y++)
			{
				var row = json_arr[i*7+y];
				Section_data += "<td>"+row.Task+"</td>"; 
			}
				Section_data += '</tr>';
			}
			Section_data += '</tbody></table></div><div class="gap"></div>'; 
			document.getElementById("section_center").innerHTML =Section_data+ "</div>"; // display table 
			
		}

	</script>
</body>
</html>
